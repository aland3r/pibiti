1
00:00:00,000 --> 00:00:07,208
[MUSIC]

2
00:00:07,208 --> 00:00:12,500
Today we focus on BPMN, a notation
used to model business processes.

3
00:00:12,500 --> 00:00:16,960
The BPMN notation is widely
used to document processes and

4
00:00:16,960 --> 00:00:19,574
is similar to UML activity diagrams,

5
00:00:19,574 --> 00:00:25,460
event-driven process chains,
YAWL models, and many other notations.

6
00:00:25,460 --> 00:00:28,310
These all have in common
that there can be AND-,

7
00:00:28,310 --> 00:00:29,330
XOR-,

8
00:00:29,330 --> 00:00:31,730
and OR-splits and joins.

9
00:00:31,730 --> 00:00:33,680
Given their widespread use,

10
00:00:33,680 --> 00:00:39,630
we often need map discovered process
models to notations similar to BPMN.

11
00:00:39,630 --> 00:00:42,290
This explains the focus of this lecture.

12
00:00:43,380 --> 00:00:48,240
In the last lecture, we looked at
different process modeling notations and

13
00:00:48,240 --> 00:00:51,920
the impact that they have
on the discovery process.

14
00:00:51,920 --> 00:00:55,840
So for an example, we discussed
a notion of representational bias as

15
00:00:55,840 --> 00:00:59,400
something being very important
of process discovery.

16
00:01:01,300 --> 00:01:05,620
There are many different
notations that one can use.

17
00:01:05,620 --> 00:01:09,310
So Petri nets,
transition systems, etcetera.

18
00:01:09,310 --> 00:01:15,700
Today we will focus on BPMN, not so
much as a representational bias, but

19
00:01:15,700 --> 00:01:21,809
more as a notation that people in practice
often use to visualize process models.

20
00:01:24,030 --> 00:01:28,600
So Business Process Model and
Notation, as is the official term,

21
00:01:28,600 --> 00:01:32,490
is also known as
the Business Process Modelling Notation.

22
00:01:32,490 --> 00:01:35,920
In this lecture, we will simply
refer to it as the BPMN notation.

23
00:01:37,160 --> 00:01:39,364
BPMN emerged in 2004.

24
00:01:40,650 --> 00:01:43,980
And it is at this point and
time an OMG standard.

25
00:01:43,980 --> 00:01:47,050
And here you can see some
references if you would like to

26
00:01:47,050 --> 00:01:48,330
see some more information.

27
00:01:49,750 --> 00:01:54,270
It is highly relevant, because it
is supported by many vendors and

28
00:01:54,270 --> 00:01:56,510
used by many people in industry.

29
00:01:56,510 --> 00:02:00,660
That's why we often want to convert
our results to this notation.

30
00:02:01,700 --> 00:02:04,550
On the other hand, there is nothing new.

31
00:02:04,550 --> 00:02:07,815
It is very similar to UML
activity diagrams and

32
00:02:07,815 --> 00:02:11,540
event-driven process chains as we
will see later in this lecture.

33
00:02:13,170 --> 00:02:17,680
Typically, only a small subset is being
considered, and we will do the same here.

34
00:02:19,500 --> 00:02:24,750
So what are the notational
elements of a BPMN diagram?

35
00:02:24,750 --> 00:02:28,529
We have tasks or activities,
we have splits and

36
00:02:28,529 --> 00:02:35,430
joints, we have AND-splits,
XOR-splits, AND-joins, and XOR-joins.

37
00:02:35,430 --> 00:02:36,960
Just like we have seen before.

38
00:02:37,990 --> 00:02:43,830
There are also other constructs such
as the OR-split and the OR-join.

39
00:02:43,830 --> 00:02:46,580
And we will look at these
constructs in more detail.

40
00:02:46,580 --> 00:02:51,900
A BPMN diagram starts with the start
event, it ends with an end event,

41
00:02:51,900 --> 00:02:54,770
and there can be other types of events.

42
00:02:54,770 --> 00:02:59,020
For example, events triggered by a clock
or events triggered by a message.

43
00:03:01,420 --> 00:03:06,190
There also more advanced
constructs like the deferred choice.

44
00:03:06,190 --> 00:03:11,810
So, here you see a pattern where after
x there is a choice between y and z.

45
00:03:12,830 --> 00:03:15,830
And, there is a race between a clock and
a message.

46
00:03:16,840 --> 00:03:21,120
If the message is received before
a particular point in time we do z,

47
00:03:21,120 --> 00:03:22,250
otherwise we will do y.

48
00:03:24,230 --> 00:03:26,970
So, let us take a look at an example.

49
00:03:26,970 --> 00:03:33,000
So here you see a BPMN model with
a corresponding notational element.

50
00:03:33,000 --> 00:03:37,120
So, first of all we have the start and
the end event.

51
00:03:37,120 --> 00:03:38,360
Very clear in this diagram.

52
00:03:39,490 --> 00:03:42,415
Then we have the XOR-splits.

53
00:03:44,040 --> 00:03:48,020
We also have XOR-joins,
this case three of them.

54
00:03:49,160 --> 00:03:54,960
We have an AND-split and
an AND-join as are indicated here.

55
00:03:54,960 --> 00:03:57,719
And this is how we can model
this particular process.

56
00:03:58,980 --> 00:04:03,850
We have seen this example model before,
but it's important to realize that

57
00:04:03,850 --> 00:04:09,770
just like Petri nets, BPMN models
have also a token-based semantics.

58
00:04:09,770 --> 00:04:14,340
So, we can replay this process model for
a particular scenario.

59
00:04:14,340 --> 00:04:20,040
So, we first execute activity a,
then we do the AND-splits.

60
00:04:20,040 --> 00:04:22,510
We go to the XOR-split.

61
00:04:22,510 --> 00:04:26,580
And after that we do d, then we do c.

62
00:04:28,260 --> 00:04:29,960
We first have an OR-join.

63
00:04:29,960 --> 00:04:33,200
Then we have an AND-join,
we synchronize the two signals.

64
00:04:34,650 --> 00:04:35,640
And we can do e.

65
00:04:36,680 --> 00:04:42,230
After doing e, we decide that we
have to go through another loop.

66
00:04:42,230 --> 00:04:44,560
So we execute activity f.

67
00:04:44,560 --> 00:04:52,893
Bring the model back to state
before activities in the middle.

68
00:04:52,893 --> 00:04:57,199
We do a b, we do a d,
we do an e again, and

69
00:04:57,199 --> 00:05:04,030
now we choose the path h
leading to the final state.

70
00:05:04,030 --> 00:05:06,040
So this is one run of the model, and

71
00:05:06,040 --> 00:05:10,240
of course this model allows for
infinitely many behaviors.

72
00:05:12,470 --> 00:05:18,536
Now we take this model and
we have changed the AND-split,

73
00:05:18,536 --> 00:05:24,031
XOR-split, XOR-join, AND-join groups of

74
00:05:24,031 --> 00:05:30,080
gateways by so-called OR-splits and
OR-join gateway.

75
00:05:30,080 --> 00:05:32,250
Indicated with the yellow here.

76
00:05:32,250 --> 00:05:36,650
So, still the original
behavior is possible, but

77
00:05:36,650 --> 00:05:42,270
we can, of the three activities in the
middle, we can take any subset of them.

78
00:05:42,270 --> 00:05:44,980
And so we can execute all three of them.

79
00:05:44,980 --> 00:05:49,040
We can execute two of these three
activities or just one of them.

80
00:05:50,450 --> 00:05:54,800
So most difficult is
the notion of an OR-join.

81
00:05:54,800 --> 00:05:59,510
When can we move on from an OR-join?

82
00:05:59,510 --> 00:06:03,190
The informal semantics is that you
wait until all the work has been done.

83
00:06:04,220 --> 00:06:08,402
In other words there is no need for
any further synchronizations.

84
00:06:10,938 --> 00:06:15,920
So to make this more clear it helps
to look at concrete examples.

85
00:06:15,920 --> 00:06:18,430
Even though they are a bit abstract.

86
00:06:18,430 --> 00:06:22,120
So here we have a
process model where we first do an a,

87
00:06:23,260 --> 00:06:28,260
then we start three parallel paths
one involving b, one involving c,

88
00:06:28,260 --> 00:06:33,500
the other one involving
a choice between d and e.

89
00:06:33,500 --> 00:06:37,020
Then we do an OR-join and
finally we do an f.

90
00:06:37,020 --> 00:06:42,014
So you should now be
able to understand what

91
00:06:42,014 --> 00:06:45,500
the traces are that
are allowed by this model.

92
00:06:45,500 --> 00:06:52,220
So please think about how many traces
are possible in this BPMN diagram.

93
00:06:55,570 --> 00:06:56,470
The answer is 12.

94
00:06:56,470 --> 00:06:59,419
There are 12 possible traces.

95
00:07:00,750 --> 00:07:05,073
First of all,
we have to take a choice between d or e,

96
00:07:05,073 --> 00:07:09,210
and then we execute the three activities.

97
00:07:09,210 --> 00:07:11,550
That can be done in any or other, so

98
00:07:11,550 --> 00:07:17,280
we have 3 times 2 times 1 multiplied by 2,
the choice between d and e.

99
00:07:17,280 --> 00:07:18,410
So, in total

100
00:07:18,410 --> 00:07:22,446
there are twelve possible traces,
and here you can see them.

101
00:07:22,446 --> 00:07:30,080
So the OR-join has a semantics where
we wait until everything has finished.

102
00:07:30,080 --> 00:07:32,100
What should happen before.

103
00:07:32,100 --> 00:07:36,920
But it is unknown what the exact
number of synchronizations is.

104
00:07:36,920 --> 00:07:40,330
Here the synchronization is
always three out of four.

105
00:07:40,330 --> 00:07:41,939
But that does not need to be the case.

106
00:07:43,820 --> 00:07:48,240
Let's take a look at another model, and
now I ask you the question of soundness.

107
00:07:48,240 --> 00:07:51,370
We have defined soundness
very precisely for

108
00:07:51,370 --> 00:07:54,750
workflow nets, but
of course you can also define them for

109
00:07:54,750 --> 00:08:00,560
other notations like the BPMN notation
that have a well defined start and end.

110
00:08:00,560 --> 00:08:01,916
Is this model sound?

111
00:08:06,020 --> 00:08:07,720
The answer is no.

112
00:08:07,720 --> 00:08:10,270
There are many potential deadlocks.

113
00:08:10,270 --> 00:08:16,610
Here you see the deadlock where,
after doing a, there is an OR-split.

114
00:08:16,610 --> 00:08:21,740
So we can do b, and c, and d.

115
00:08:21,740 --> 00:08:28,070
But we can also just do b, or
just do b and d as is indicated here.

116
00:08:28,070 --> 00:08:31,550
So if we choose to do b and d but

117
00:08:31,550 --> 00:08:37,170
not c, in that case we cannot
synchronize three flows.

118
00:08:37,170 --> 00:08:41,000
Where as the gateway
before f requires that on

119
00:08:41,000 --> 00:08:47,160
all four of the incoming signals,
there will be a token.

120
00:08:47,160 --> 00:08:51,926
So this is yeah, this construct
does not make a lot of sense here

121
00:08:51,926 --> 00:08:56,920
because typically you would like to
combine an END-split with an END-join or

122
00:08:56,920 --> 00:08:59,590
an OR-split with an OR-join.

123
00:08:59,590 --> 00:09:00,859
And here that is not the case.

124
00:09:01,940 --> 00:09:03,390
So there are many deadlocks here.

125
00:09:05,050 --> 00:09:11,592
We can take a look at this BPMN
model which has a more complicated

126
00:09:11,592 --> 00:09:17,191
combination of of gateways,
is this model sound or not?

127
00:09:23,065 --> 00:09:25,140
The answer is, no.

128
00:09:25,140 --> 00:09:28,150
If you look at all
the behavior of this model,

129
00:09:28,150 --> 00:09:32,050
there are several potential deadlocks.

130
00:09:32,050 --> 00:09:35,760
If you look carefully at the diagram,
you will see that c and

131
00:09:35,760 --> 00:09:39,550
e should happen together or
d and f should happen together.

132
00:09:39,550 --> 00:09:43,690
If that is not the case, then you
will run into a deadlock trying to

133
00:09:43,690 --> 00:09:47,100
synchronize flows which
cannot be synchronized.

134
00:09:47,100 --> 00:09:52,630
So this is one possible deadlock
where you do the c and f and

135
00:09:53,880 --> 00:10:01,300
then you cannot synchronize,
or you do d and e.

136
00:10:01,300 --> 00:10:03,710
And then you also run into a deadlock.

137
00:10:03,710 --> 00:10:06,610
There are also behaviors
that are possible.

138
00:10:06,610 --> 00:10:11,480
So here you can see some traces that
indeed lead from beginning to end.

139
00:10:11,480 --> 00:10:14,830
For example,
we can do first a followed by c.

140
00:10:15,910 --> 00:10:19,930
And then at the bottom,
we need to do b followed by e.

141
00:10:19,930 --> 00:10:23,600
Then we can synchronize both flows and
do g at the end.

142
00:10:24,610 --> 00:10:31,240
And so there are also several good traces,
but this model also has deadlocks.

143
00:10:31,240 --> 00:10:36,410
As I said at the beginning,
the BPMN notation is very comparable to

144
00:10:36,410 --> 00:10:41,750
UML activity diagrams, or
to more classical notations like the so

145
00:10:41,750 --> 00:10:47,080
called event-driven process chains,
simply referred to as EPCs.

146
00:10:47,080 --> 00:10:50,540
What you see here in this
diagram is an EPC which has

147
00:10:50,540 --> 00:10:54,800
exactly the same behaviour as the BPMN
model that we showed at the beginning.

148
00:10:56,350 --> 00:11:01,030
So what are the notational
elements of an EPC diagram?

149
00:11:01,030 --> 00:11:07,100
We have functions that corresponds
to activities in a BPMN diagram or

150
00:11:07,100 --> 00:11:09,340
activities in the way that
we have spoken about before.

151
00:11:09,340 --> 00:11:15,440
You have connectors, they correspond
to gateways in the BPMN notation.

152
00:11:15,440 --> 00:11:21,190
And again we have XOR, AND, and
OR, also the inclusive of OR

153
00:11:21,190 --> 00:11:27,271
to model the same types of behavior as
what we have seen in the BPMN notation.

154
00:11:27,271 --> 00:11:32,510
The OR-join deserves
some special attention.

155
00:11:32,510 --> 00:11:35,830
And to illustrate this a bit that
this is a difficult concept and

156
00:11:35,830 --> 00:11:39,910
that you should be very careful about it,
I'm going to show you a paradox.

157
00:11:41,050 --> 00:11:49,740
What you see here is that there
is one EPC diagram having two OR-joins.

158
00:11:49,740 --> 00:11:54,450
And remember that an understanding of an
OR-join is that everything that has been

159
00:11:54,450 --> 00:11:57,130
done before, has been done.

160
00:11:57,130 --> 00:12:00,450
In other words, no tokens may arrive.

161
00:12:00,450 --> 00:12:04,990
So if you look at this initial situation,
where there are two tokens in front of

162
00:12:04,990 --> 00:12:11,260
these two OR-joins, the question
is can additional tokens arrive

163
00:12:11,260 --> 00:12:16,440
through these two other inputs
that these two OR-joins have?

164
00:12:16,440 --> 00:12:22,730
Well, suppose that you say that
is not the case, then one

165
00:12:22,730 --> 00:12:27,500
OR-join should block and because of
symmetry the other should also block.

166
00:12:27,500 --> 00:12:32,650
So both should block, but
if they both block that means that

167
00:12:32,650 --> 00:12:37,920
you will never receive the second signal,
so the OR-join should not have waited.

168
00:12:39,140 --> 00:12:42,480
So you create a contradiction.

169
00:12:43,500 --> 00:12:45,660
If you block,
you should not have blocked.

170
00:12:47,230 --> 00:12:49,630
So okay, so blocking is not an option.

171
00:12:49,630 --> 00:12:53,020
So now we can say, okay.

172
00:12:53,020 --> 00:12:58,330
If one is not blocked, then by symmetry
the other one should also not be blocked.

173
00:12:58,330 --> 00:12:59,540
So they both can go.

174
00:13:00,790 --> 00:13:06,050
But if they both go, then there will be

175
00:13:06,050 --> 00:13:09,720
signals on the OR-joins
of the other input.

176
00:13:10,920 --> 00:13:15,220
So this is again a wrong
choice because we

177
00:13:15,220 --> 00:13:18,700
should have waited because there
was still a token arriving.

178
00:13:18,700 --> 00:13:21,050
So due to symmetry, you can see,

179
00:13:21,050 --> 00:13:25,410
clearly see that there is a paradox
in which all the choices are wrong.

180
00:13:25,410 --> 00:13:29,100
So this is illustrated that you
should be very careful when

181
00:13:29,100 --> 00:13:31,760
interpreting these OR-joins.

182
00:13:31,760 --> 00:13:34,480
And it also shows
the complexity of some of

183
00:13:34,480 --> 00:13:37,440
these process modeling notations
like the BPMN notation.

184
00:13:39,830 --> 00:13:43,800
What I stressed already
before is visualization of

185
00:13:43,800 --> 00:13:47,770
the discovered models is different
from the representational bias.

186
00:13:47,770 --> 00:13:52,830
So often, we convert to a BPMN
model to make a model that

187
00:13:52,830 --> 00:13:57,520
people would like to see and it is
unrelated to the representations that I

188
00:13:57,520 --> 00:14:00,500
used internally by the process
discovering techniques.

189
00:14:02,880 --> 00:14:06,990
There are a few miners that
work directly on BPMN models.

190
00:14:06,990 --> 00:14:12,810
Most of the miners will discover Petri
nets, causal nets, process trees,

191
00:14:12,810 --> 00:14:16,620
heuristic nets, and all kinds of
other notations that are suitable for

192
00:14:16,620 --> 00:14:22,470
process discovery and only towards
the end they are converted to BPMN.

193
00:14:22,470 --> 00:14:27,750
Sometimes the conversion is a bit lossy,
that you generalize the model a bit, or

194
00:14:27,750 --> 00:14:29,140
make a bit more specific.

195
00:14:30,210 --> 00:14:33,450
Here you see a screenshot
of the inductive miner,

196
00:14:33,450 --> 00:14:38,990
that provides a visualizer that shows
the process tree as a BPMN model,

197
00:14:38,990 --> 00:14:42,860
so that people can more easily
understand what it represents.

198
00:14:44,850 --> 00:14:47,110
This concludes this lecture.

199
00:14:47,110 --> 00:14:51,050
I hope that you now understand
more of the BPMN notation that was

200
00:14:51,050 --> 00:14:53,800
already introduced in
chapter two of the book.

201
00:14:55,010 --> 00:14:59,700
Thank you for watching,
and hope to see you soon.

202
00:14:59,700 --> 00:15:09,700
[MUSIC]

